<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Challenges</title>
    <!--Links to respective CSS and Javascript-->
    <link rel="stylesheet" href="/css/styles.css">
    <script src="wealthup.js"></script>
    <script src="server.js"></script>
        <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-P6PBRY85Q6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-P6PBRY85Q6');
</script>
</head>

<body>
    
    <!-- Navigation Bar-->
    <nav>
        <ul>
          <li><a href="/">About</a></li>
          <li><a href="/Index">Home</a></li>
          <li><a href="/WealthUp">WealthUp</a></li>
          <li><a href="/challenges">Challenges</a></li>
        </ul>
      </nav>

    <!-- Key In Challenges -->
    <main>
        <section id="create-challenge">
        <h2>Create a Challenge</h2>
        <form id="challenge-form">
        <label for="challenge-title">Challenge Title:</label>

        <div class="input-group">
        <input type="text" id="challenge-title" name="challenge-title" required>

        <label for="challenge-description">Challenge Description:</label>
        <textarea type="challenge-description" name="challenge-description" rows="4" required></textarea>
        </div>  
       
        <button type="submit">Create Challenge ðŸš€</button>

        </form>
        </section>

        <section id="challenges">
            <h2>Ongoing Challenges</h2>
            <ul id="challenge-list"></ul>

        </section>

    <!-- For new challenges to be reflected -->
        <script>
            //Wait until document loaded using 'DOMContentLoaded'
            document.addEventListener('DOMContentLoaded',function(){
                //We get our challenge list and form by using 'getElementbyId'
                const form = document.getElementById('challenge-form');
                const challengeList = document.getElementById('challenge-list');
                
                //Add an event listener whre submitting a form triggers an event.
                form.addEventListener('submit',function(event) {
                    event.preventDefault();
                    
                    //Obtain Input values from user
                    const challengeInputTitle = document.getElementById('challenge-title');
                    const challengeInputDesc = document.getElementById('challenge-description');
                    const challengeTitle = challengeInputTitle.value;
                    const challengeDesc = challengeInputDesc.value;

                    //Create new challenge item
                    if((challengeTitle.trim() !=='') && (challengeDesc.trim()!== '')){
                        const challengeItem = document.createElement('li')
                        challengeItem.classList.add('challenge-item')
                        challengeItem.textContent = $;challengeTitle`: ${challengeDesc}`; //combine title and descriptn
                        
                        //Append new challenge item to the challenge list
                        challengeList.appendChild(challengeItem);

                        //Clear form inputs
                        challengeInputTitle.value='';
                        challengeInputDesc.value='';
                    } else {
                        //print output to browser's console
                        console.log("Both fields are required");
                };
            });
        });
        </script>

<!--To have the list of challenges in the  -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.getElementById('challenge-form');
        const challengeList = document.getElementById('challenge-list');

        form.addEventListener('submit', function(event) {
            event.preventDefault();

            const challengeInput = document.getElementById('challenge');
            const challengeText = challengeInput.value;

            if (challengeText.trim() !== '') {
                //check if the box is not empty > creates a new listed elements with class challenge-item.
                const challengeItem = document.createElement('li');
                challengeItem.classList.add('challenge-item');
                challengeItem.textContent = challengeText;
                challengeList.appendChild(challengeItem);
                challengeInput.value = '';
            }
        });
    });
</script>

 <!-- The Disclaimer part of WealthUp -->
 <footer><p>
    Disclaimer: This website is created for learning purposes only. 
    The information provided here should not be considered professional advice. 
    Please note that we make no guarantees regarding the accuracy, completeness, or 
    reliability of the contents of this website. Any actions you take based on the contents of 
    this website are at your own risk. We are not liable for any losses or damages incurred from 
    the use of this website.
  </p></footer>

</body>
</html>