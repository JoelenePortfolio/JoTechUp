<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Challenges</title>
    <!--Links to respective CSS and Javascript-->
    <link rel="stylesheet" href="public/css/styles.css">
    <script src="wealthup.js"></script>
    <script src="server.js"></script>
    
</head>

<!--When the page load, the user will receive a welcome pop-up message -->
<body>
    
    <!-- Navigation Bar-->
    <nav>
        <ul>
          <li><a href="/">About</a></li>
          <li><a href="/Index">Home</a></li>
          <li><a href="/WealthUp">WealthUp</a></li>
          <li><a href="/challenges">Challenges</a></li>
        </ul>
      </nav>

    <!-- Key In Challenges -->
    <main>
        <section id="create-challenge">
        <h2>Create a Challenge</h2>
        <form id="challenge-form">
        <label for="challenge-title">Challenge Title:</label>
        <input type="text" id="challenge-title" name="challenge-title" required>

        <label for="challenge-description">Challenge Description:</label>
        <textarea id="challenge-description" name="challenge-description" rows="4" required></textarea>

        <button type="submit">Create Challenge ðŸš€</button>
        </form>
        </section>

        <section id="challenges">
            <h2>Ongoing Challenges</h2>
            <ul id="challenge-list"></ul>

        </section>

    <!-- For new challenges to be reflected -->
        <script>
            document.addEventListener('DOMContentLoaded',function(){
                const form = document.getElementById('challenge-form');
                const challengeList = document.getElementById('challenge-list');
                
                //Add an event listener for form submission
                form.addEventListener('submit',function(event) {
                    event.preventDefault();
                    
                    //Obtain Input values from user
                    const challengeInputTitle = document.getElementById('challenge-title');
                    const challengeInputDesc = document.getElementById('challenge-description');
                    const challengeTitle = challengeInputTitle.value;
                    const challengeDesc = challengeInputDesc.value;

                    //Create new challenge item
                    if((challengeTitle.trim() !=='') && (challengeDesc.trim()!== '')){
                        const challengeItem = document.createElement('li')
                        challengeItem.classList.add('challenge-item')
                        challengeItem.textContent = ${challengeTitle}`: ${challengeDesc}`; //combine title and descriptn
                        
                        //Append new challenge item to the challenge list
                        challengeList.appendChild(challengeItem);

                        //Clear form inputs
                        challengeInputTitle.value='';
                        challengeInputDesc.value='';
                    } else {
                        console.log("Both fields are required");
                };
            });
        });
        </script>

<!--To have the list of challenges in the  -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.getElementById('challenge-form');
        const challengeList = document.getElementById('challenge-list');

        form.addEventListener('submit', function(event) {
            event.preventDefault();

            const challengeInput = document.getElementById('challenge');
            const challengeText = challengeInput.value;

            if (challengeText.trim() !== '') {
                const challengeItem = document.createElement('li');
                challengeItem.classList.add('challenge-item');
                challengeItem.textContent = challengeText;
                challengeList.appendChild(challengeItem);
                challengeInput.value = '';
            }
        });
    });
</script>

 <!-- The Disclaimer part of WealthUp -->
 <footer><p>
    Disclaimer: This website is created for learning purposes only. 
    The information provided here should not be considered professional advice. 
    Please note that we make no guarantees regarding the accuracy, completeness, or 
    reliability of the contents of this website. Any actions you take based on the contents of 
    this website are at your own risk. We are not liable for any losses or damages incurred from 
    the use of this website.
  </p></footer>

</body>
</html>